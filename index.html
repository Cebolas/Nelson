<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Jogo da Escolha Certa ‚Äì por Nelson Pedroso Norbach</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Fredoka+One&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #4361ee;
      --secondary: #3f37c9;
      --accent: #4cc9f0;
      --light: #f8f9fa;
      --dark: #212529;
      --success: #4caf50;
      --danger: #f44336;
      --warning: #ff9800;
      --info: #2196f3;
      --easy: #4caf50;
      --medium: #ff9800;
      --hard: #f44336;
      --beginner: #4caf50;
      --intermediate: #ff9800;
      --advanced: #f44336;
    }
    
    body {
      margin: 0;
      font-family: 'Poppins', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      color: var(--dark);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      padding: 20px;
      background-attachment: fixed;
    }

    .container {
      background-color: white;
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
      max-width: 800px;
      width: 100%;
      text-align: center;
      animation: fadeIn 0.8s ease-out;
      position: relative;
      overflow: hidden;
      will-change: transform, opacity;
      margin-bottom: 20px;
    }

    .container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 10px;
      background: linear-gradient(90deg, var(--primary), var(--accent));
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
      20%, 40%, 60%, 80% { transform: translateX(5px); }
    }

    h1 {
      font-family: 'Fredoka One', cursive;
      font-size: 2.8rem;
      color: var(--primary);
      margin-bottom: 20px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
      background: linear-gradient(to right, var(--primary), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .btn {
      background-color: var(--primary);
      color: white;
      padding: 15px 30px;
      font-size: 1.1rem;
      font-weight: 600;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      margin: 10px;
      min-width: 200px;
      will-change: transform;
    }

    .btn:hover {
      background-color: var(--secondary);
      transform: translateY(-3px);
      box-shadow: 0 6px 12px rgba(0,0,0,0.15);
    }

    .btn:active {
      transform: translateY(1px);
    }

    .btn-option {
      background-color: white;
      color: var(--dark);
      border: 2px solid var(--primary);
      padding: 12px 20px;
      transition: all 0.2s;
      width: 100%;
      text-align: left;
      margin: 8px 0;
      border-radius: 10px;
      will-change: transform;
    }

    .btn-option:hover {
      background-color: var(--primary);
      color: white;
      transform: translateX(10px);
    }

    .btn-option.correct {
      background-color: var(--success);
      color: white;
      border-color: var(--success);
      animation: pulse 0.5s;
    }

    .btn-option.incorrect {
      background-color: var(--danger);
      color: white;
      border-color: var(--danger);
      animation: shake 0.5s;
    }

    .progress-container {
      width: 100%;
      height: 10px;
      background-color: #e0e0e0;
      border-radius: 5px;
      margin: 20px 0;
      overflow: hidden;
    }

    .progress-bar {
      height: 100%;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      width: 0%;
      transition: width 0.5s ease;
      border-radius: 5px;
    }

    .xp-container {
      width: 100%;
      height: 8px;
      background-color: #e0e0e0;
      border-radius: 5px;
      margin: 10px 0;
      overflow: hidden;
    }

    .xp-bar {
      height: 100%;
      background: linear-gradient(90deg, #4cc9f0, #4361ee);
      width: 0%;
      transition: width 0.5s ease;
      border-radius: 5px;
    }

    .stats {
      display: flex;
      justify-content: space-between;
      margin-bottom: 20px;
      background-color: rgba(67, 97, 238, 0.1);
      padding: 15px;
      border-radius: 10px;
      font-weight: 600;
      flex-wrap: wrap;
    }

    .stat {
      display: flex;
      flex-direction: column;
      margin: 5px;
    }

    .stat-value {
      font-size: 1.5rem;
      color: var(--primary);
    }

    .question {
      font-size: 1.4rem;
      margin: 25px 0;
      line-height: 1.5;
      font-weight: 600;
    }

    .feedback {
      font-size: 1.2rem;
      margin: 20px 0;
      padding: 15px;
      border-radius: 10px;
      animation: fadeIn 0.5s;
    }

    .feedback.correct {
      background-color: rgba(76, 175, 80, 0.2);
      color: var(--success);
      border-left: 5px solid var(--success);
    }

    .feedback.incorrect {
      background-color: rgba(244, 67, 54, 0.2);
      color: var(--danger);
      border-left: 5px solid var(--danger);
    }

    .explanation {
      font-size: 1.1rem;
      margin: 20px 0;
      padding: 15px;
      background-color: rgba(33, 150, 243, 0.1);
      border-left: 5px solid var(--info);
      border-radius: 0 10px 10px 0;
      text-align: left;
    }

    .timer {
      font-size: 1.2rem;
      font-weight: bold;
      color: var(--primary);
      display: inline-block;
      padding: 5px 15px;
      border-radius: 50px;
      background-color: rgba(67, 97, 238, 0.1);
    }

    .timer.warning {
      color: var(--warning);
      animation: pulse 1s infinite;
    }

    .timer.danger {
      color: var(--danger);
      animation: pulse 0.5s infinite;
    }

    .celebrate {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 100;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 5rem;
      opacity: 0;
      transition: opacity 0.5s;
    }

    .confetti {
      position: absolute;
      width: 10px;
      height: 10px;
      background-color: var(--primary);
      opacity: 0;
      will-change: transform, opacity;
    }

    .creditos {
      margin-top: 30px;
      font-size: 0.9rem;
      color: #666;
      text-align: center;
    }

    .emoji {
      font-size: 1.5rem;
      margin-right: 10px;
      vertical-align: middle;
    }

    .difficulty-tag {
      display: inline-block;
      padding: 3px 10px;
      border-radius: 50px;
      font-size: 0.8rem;
      font-weight: bold;
      margin-left: 10px;
    }

    .easy {
      background-color: rgba(76, 175, 80, 0.2);
      color: var(--easy);
    }

    .medium {
      background-color: rgba(255, 152, 0, 0.2);
      color: var(--medium);
    }

    .hard {
      background-color: rgba(244, 67, 54, 0.2);
      color: var(--hard);
    }

    .beginner {
      background-color: rgba(76, 175, 80, 0.2);
      color: var(--beginner);
    }

    .intermediate {
      background-color: rgba(255, 152, 0, 0.2);
      color: var(--intermediate);
    }

    .advanced {
      background-color: rgba(244, 67, 54, 0.2);
      color: var(--advanced);
    }

    .category-tag {
      display: inline-block;
      padding: 3px 10px;
      border-radius: 50px;
      font-size: 0.8rem;
      font-weight: bold;
      background-color: rgba(67, 97, 238, 0.2);
      color: var(--primary);
      margin-bottom: 10px;
    }

    .lives {
      display: flex;
      justify-content: center;
      margin-bottom: 15px;
    }

    .life {
      font-size: 1.5rem;
      margin: 0 5px;
      color: var(--danger);
      transition: all 0.3s;
    }

    .life.lost {
      opacity: 0.3;
      transform: scale(0.8);
    }

    .tip-container {
      margin: 20px 0;
      padding: 15px;
      background-color: rgba(76, 175, 80, 0.1);
      border-left: 5px solid var(--success);
      border-radius: 0 10px 10px 0;
      text-align: left;
      animation: fadeIn 0.5s;
    }

    .tip-title {
      font-weight: bold;
      color: var(--success);
      margin-bottom: 5px;
    }

    .level-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }

    .level-info {
      display: flex;
      align-items: center;
    }

    .level-badge {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: var(--primary);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      margin-right: 10px;
    }

    .achievement {
      display: flex;
      align-items: center;
      padding: 10px;
      margin: 5px 0;
      background-color: rgba(67, 97, 238, 0.1);
      border-radius: 10px;
    }

    .achievement-icon {
      font-size: 1.5rem;
      margin-right: 10px;
    }

    .achievement-locked {
      opacity: 0.5;
    }

    .profile-pic {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background-color: var(--primary);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      margin: 0 auto 15px;
    }

    #start-screen, #quiz-screen, #profile-screen, #achievements-screen {
      display: none;
    }

    @media (max-width: 600px) {
      .container {
        padding: 20px;
      }
      
      h1 {
        font-size: 2rem;
      }
      
      .question {
        font-size: 1.2rem;
      }
      
      .btn {
        padding: 12px 20px;
        min-width: 150px;
      }
      
      .stats {
        flex-direction: column;
      }
      
      .stat {
        margin-bottom: 10px;
      }
    }
  </style>
</head>
<body>

  <div class="container" id="start-screen">
    <h1>Seguran√ßa na Internet</h1>
    <p style="font-size: 1.2rem; line-height: 1.6; margin-bottom: 30px;">Bem-vindo ao Jogo da Escolha Certa! Aqui voc√™ vai aprender a se proteger na internet de maneira divertida e segura.</p>
    <button class="btn" onclick="startGame()">
      <span class="emoji">üéÆ</span> Come√ßar Jogo
    </button>
    <button class="btn" onclick="showProfile()">
      <span class="emoji">üë§</span> Meu Perfil
    </button>
    <button class="btn" onclick="showAchievements()">
      <span class="emoji">üèÜ</span> Conquistas
    </button>
    <div style="margin-top: 30px; text-align: left; background-color: rgba(67, 97, 238, 0.05); padding: 15px; border-radius: 10px;">
      <h3 style="margin-top: 0; color: var(--primary);">Novo Sistema de Progress√£o:</h3>
      <ul style="padding-left: 20px;">
        <li>3 n√≠veis de dificuldade: Iniciante, Intermedi√°rio e Avan√ßado</li>
        <li>Barra de experi√™ncia e sistema de n√≠veis</li>
        <li>Conte√∫do que desbloqueia conforme voc√™ progride</li>
        <li>Conquistas para desafios especiais</li>
      </ul>
    </div>
  </div>

  <div class="container" id="quiz-screen">
    <h1>Seguran√ßa na Internet</h1>
    
    <div class="level-container">
      <div class="level-info">
        <div class="level-badge" id="level-badge">1</div>
        <div>
          <div>N√≠vel <span id="level">1</span></div>
          <div id="level-name" class="beginner">Iniciante</div>
        </div>
      </div>
      <div style="width: 60%;">
        <div style="text-align: right; font-size: 0.8rem; margin-bottom: 3px;">
          <span id="current-xp">0</span>/<span id="next-level-xp">100</span> XP
        </div>
        <div class="xp-container">
          <div class="xp-bar" id="xp-bar"></div>
        </div>
      </div>
    </div>
    
    <div class="lives" id="lives-container">
      <span class="life">‚ù§Ô∏è</span>
      <span class="life">‚ù§Ô∏è</span>
      <span class="life">‚ù§Ô∏è</span>
    </div>
    
    <div class="stats">
      <div class="stat">
        <span>Pergunta</span>
        <span class="stat-value" id="question-count">1/10</span>
      </div>
      <div class="stat">
        <span>Pontos</span>
        <span class="stat-value" id="score">0</span>
      </div>
      <div class="stat">
        <span>Tempo</span>
        <span class="stat-value timer" id="timer">10s</span>
      </div>
    </div>
    
    <div class="progress-container">
      <div class="progress-bar" id="progress-bar"></div>
    </div>
    
    <div id="category-tag" class="category-tag"></div>
    <p class="question" id="question-text">Carregando pergunta...</p>
    <div class="options" id="options-container"></div>
    <div class="feedback" id="feedback"></div>
    <div class="explanation" id="explanation" style="display:none;"></div>
    
    <div class="tip-container" id="tip-container" style="display:none;">
      <div class="tip-title">üí° Dica de Seguran√ßa</div>
      <div id="tip-content"></div>
    </div>
    
    <button class="btn" id="next-btn" onclick="nextQuestion()" style="display:none; margin-top: 20px;">
      <span class="emoji">‚û°Ô∏è</span> Pr√≥xima Pergunta
    </button>
  </div>

  <div class="container" id="profile-screen">
    <h1>Meu Perfil</h1>
    
    <div class="profile-pic" id="profile-pic">
      üë§
    </div>
    
    <h2 id="player-name">Jogador</h2>
    
    <div class="stats">
      <div class="stat">
        <span>N√≠vel</span>
        <span class="stat-value" id="profile-level">1</span>
      </div>
      <div class="stat">
        <span>XP</span>
        <span class="stat-value" id="profile-xp">0</span>
      </div>
      <div class="stat">
        <span>Acertos</span>
        <span class="stat-value" id="profile-correct">0</span>
      </div>
    </div>
    
    <div style="text-align: left; margin: 20px 0;">
      <h3 style="color: var(--primary);">Progresso:</h3>
      <div style="margin-bottom: 10px;">
        <div style="display: flex; justify-content: space-between;">
          <span>Iniciante</span>
          <span id="beginner-progress">0%</span>
        </div>
        <div class="progress-container">
          <div class="progress-bar" id="beginner-bar" style="background: var(--beginner); width: 0%;"></div>
        </div>
      </div>
      <div style="margin-bottom: 10px;">
        <div style="display: flex; justify-content: space-between;">
          <span>Intermedi√°rio</span>
          <span id="intermediate-progress">0%</span>
        </div>
        <div class="progress-container">
          <div class="progress-bar" id="intermediate-bar" style="background: var(--intermediate); width: 0%;"></div>
        </div>
      </div>
      <div>
        <div style="display: flex; justify-content: space-between;">
          <span>Avan√ßado</span>
          <span id="advanced-progress">0%</span>
        </div>
        <div class="progress-container">
          <div class="progress-bar" id="advanced-bar" style="background: var(--advanced); width: 0%;"></div>
        </div>
      </div>
    </div>
    
    <button class="btn" onclick="showStartScreen()">
      <span class="emoji">üè†</span> Voltar
    </button>
  </div>

  <div class="container" id="achievements-screen">
    <h1>Conquistas</h1>
    
    <div id="achievements-list" style="text-align: left;">
      <!-- Conquistas ser√£o adicionadas aqui pelo JavaScript -->
    </div>
    
    <button class="btn" onclick="showStartScreen()">
      <span class="emoji">üè†</span> Voltar
    </button>
  </div>

  <div class="celebrate" id="celebrate"></div>

  <p class="creditos">&copy; 2025 ‚Äì Desenvolvido por Nelson Pedroso Norbach. Todos os direitos reservados.</p>

  <script>
    // Sistema de Progress√£o
    const player = {
      name: "Jogador",
      level: 1,
      xp: 0,
      nextLevelXp: 100,
      correctAnswers: 0,
      totalAnswers: 0,
      beginnerProgress: 0,
      intermediateProgress: 0,
      advancedProgress: 0,
      unlockedLevels: ["beginner"],
      achievements: []
    };

    // Carrega o progresso do localStorage
    function loadProgress() {
      const savedProgress = localStorage.getItem('securityGameProgress');
      if (savedProgress) {
        Object.assign(player, JSON.parse(savedProgress));
      }
    }

    // Salva o progresso no localStorage
    function saveProgress() {
      localStorage.setItem('securityGameProgress', JSON.stringify(player));
    }

    // Adiciona XP e verifica se subiu de n√≠vel
    function addXP(amount) {
      player.xp += amount;
      player.totalAnswers += 1;
      
      // Verifica se subiu de n√≠vel
      if (player.xp >= player.nextLevelXp) {
        player.level += 1;
        player.xp = player.xp - player.nextLevelXp;
        player.nextLevelXp = Math.floor(player.nextLevelXp * 1.5);
        
        // Desbloqueia novos n√≠veis conforme progride
        if (player.level >= 5 && !player.unlockedLevels.includes('intermediate')) {
          player.unlockedLevels.push('intermediate');
          showMessage("Novo n√≠vel desbloqueado: Intermedi√°rio!");
        }
        if (player.level >= 10 && !player.unlockedLevels.includes('advanced')) {
          player.unlockedLevels.push('advanced');
          showMessage("Novo n√≠vel desbloqueado: Avan√ßado!");
        }
        
        showCelebration(`üéâ Parab√©ns! Voc√™ atingiu o n√≠vel ${player.level}!`);
      }
      
      updateProfile();
      saveProgress();
    }

    // Atualiza a exibi√ß√£o do perfil
    function updateProfile() {
      document.getElementById('profile-level').textContent = player.level;
      document.getElementById('profile-xp').textContent = player.xp;
      document.getElementById('profile-correct').textContent = player.correctAnswers;
      
      // Atualiza barra de XP
      document.getElementById('current-xp').textContent = player.xp;
      document.getElementById('next-level-xp').textContent = player.nextLevelXp;
      document.getElementById('xp-bar').style.width = `${(player.xp / player.nextLevelXp) * 100}%`;
      
      // Atualiza n√≠vel
      document.getElementById('level').textContent = player.level;
      document.getElementById('level-badge').textContent = player.level;
      
      // Atualiza nome do n√≠vel
      const levelNameEl = document.getElementById('level-name');
      levelNameEl.className = '';
      if (player.level < 5) {
        levelNameEl.textContent = "Iniciante";
        levelNameEl.classList.add('beginner');
      } else if (player.level < 10) {
        levelNameEl.textContent = "Intermedi√°rio";
        levelNameEl.classList.add('intermediate');
      } else {
        levelNameEl.textContent = "Avan√ßado";
        levelNameEl.classList.add('advanced');
      }
      
      // Atualiza progresso por n√≠vel de dificuldade
      document.getElementById('beginner-progress').textContent = `${player.beginnerProgress}%`;
      document.getElementById('beginner-bar').style.width = `${player.beginnerProgress}%`;
      document.getElementById('intermediate-progress').textContent = `${player.intermediateProgress}%`;
      document.getElementById('intermediate-bar').style.width = `${player.intermediateProgress}%`;
      document.getElementById('advanced-progress').textContent = `${player.advancedProgress}%`;
      document.getElementById('advanced-bar').style.width = `${player.advancedProgress}%`;
    }

    // Conquistas
    const achievements = [
      {
        id: "beginner_master",
        name: "Mestre Iniciante",
        description: "Complete 20 perguntas do n√≠vel Iniciante",
        icon: "üìö",
        check: () => player.beginnerProgress >= 100,
        xpReward: 50,
        unlocked: false
      },
      {
        id: "fast_learner",
        name: "Aprendiz R√°pido",
        description: "Acertar 5 perguntas seguidas",
        icon: "‚ö°",
        check: (currentStreak) => currentStreak >= 5,
        xpReward: 30,
        unlocked: false
      },
      {
        id: "perfect_score",
        name: "Pontua√ß√£o Perfeita",
        description: "Acertar todas as perguntas de uma sess√£o",
        icon: "üíØ",
        check: (sessionScore, totalQuestions) => sessionScore === totalQuestions,
        xpReward: 100,
        unlocked: false
      },
      {
        id: "intermediate_unlock",
        name: "Pr√≥ximo N√≠vel",
        description: "Desbloqueie o n√≠vel Intermedi√°rio",
        icon: "üîì",
        check: () => player.unlockedLevels.includes('intermediate'),
        xpReward: 75,
        unlocked: false
      },
      {
        id: "advanced_unlock",
        name: "Expert em Seguran√ßa",
        description: "Desbloqueie o n√≠vel Avan√ßado",
        icon: "üèÜ",
        check: () => player.unlockedLevels.includes('advanced'),
        xpReward: 150,
        unlocked: false
      }
    ];

    // Verifica conquistas
    function checkAchievements(currentStreak = 0, sessionScore = 0, totalQuestions = 0) {
      let newAchievements = [];
      
      achievements.forEach(achievement => {
        if (!achievement.unlocked && achievement.check(currentStreak, sessionScore, totalQuestions)) {
          achievement.unlocked = true;
          player.achievements.push(achievement.id);
          newAchievements.push(achievement);
          addXP(achievement.xpReward);
        }
      });
      
      if (newAchievements.length > 0) {
        showAchievementsUnlocked(newAchievements);
      }
      
      saveProgress();
    }

    // Mostra conquistas desbloqueadas
    function showAchievementsUnlocked(newAchievements) {
      let message = "üéâ Conquista desbloqueada!\n";
      newAchievements.forEach(ach => {
        message += `\n${ach.icon} ${ach.name} - ${ach.description}`;
      });
      
      alert(message);
      updateAchievementsDisplay();
    }

    // Atualiza a exibi√ß√£o das conquistas
    function updateAchievementsDisplay() {
      const container = document.getElementById('achievements-list');
      container.innerHTML = '';
      
      achievements.forEach(achievement => {
        const isUnlocked = player.achievements.includes(achievement.id);
        
        const achievementEl = document.createElement('div');
        achievementEl.className = `achievement ${isUnlocked ? '' : 'achievement-locked'}`;
        
        achievementEl.innerHTML = `
          <div class="achievement-icon">${isUnlocked ? achievement.icon : 'üîí'}</div>
          <div>
            <div style="font-weight: bold;">${achievement.name}</div>
            <div style="font-size: 0.9rem;">${achievement.description}</div>
            ${isUnlocked ? `<div style="font-size: 0.8rem; color: var(--success);">+${achievement.xpReward} XP</div>` : ''}
          </div>
        `;
        
        container.appendChild(achievementEl);
      });
    }

    // Banco de perguntas organizado por n√≠vel
    const quiz = {
      beginner: [
        { 
          pergunta: "Voc√™ deve compartilhar sua senha com amigos?", 
          opcoes: ["Sim", "N√£o", "S√≥ com melhores amigos", "Depende do site"], 
          correta: 1, 
          explicacao: "Nunca compartilhe senhas, nem com amigos.", 
          category: "Senhas"
        },
        { 
          pergunta: "√â seguro clicar em links de desconhecidos?", 
          opcoes: ["Sim", "N√£o", "Somente em jogos", "Se estiver no WhatsApp"], 
          correta: 1, 
          explicacao: "Links desconhecidos podem conter v√≠rus.", 
          category: "Golpes"
        },
        { 
          pergunta: "O que significa o cadeado verde na barra de endere√ßos?", 
          opcoes: ["Que o site √© bonito", "Que a conex√£o √© segura", "Que √© um site oficial", "Que tem muitas imagens"], 
          correta: 1, 
          explicacao: "O cadeado verde indica que a conex√£o √© criptografada e mais segura.", 
          category: "Navega√ß√£o"
        },
        { 
          pergunta: "Qual √© a melhor forma de criar uma senha forte?", 
          opcoes: ["Usar sequ√™ncias simples como 123456", "Usar informa√ß√µes pessoais como data de nascimento", "Combinar letras, n√∫meros e s√≠mbolos", "Usar a mesma palavra com diferentes finais"], 
          correta: 2, 
          explicacao: "Senhas fortes combinam diferentes tipos de caracteres e n√£o usam informa√ß√µes pessoais.", 
          category: "Senhas"
        },
        { 
          pergunta: "O que voc√™ deve fazer antes de baixar um aplicativo?", 
          opcoes: ["Verificar as permiss√µes que ele pede", "Baixar sempre o primeiro resultado", "Confiar em qualquer app com boa classifica√ß√£o", "Ignorar os coment√°rios de outros usu√°rios"], 
          correta: 0, 
          explicacao: "Sempre verifique as permiss√µes e leia coment√°rios antes de baixar aplicativos.", 
          category: "Aplicativos"
        },
        { 
          pergunta: "O que √© phishing?", 
          opcoes: ["Um tipo de pescaria", "Um v√≠rus de computador", "Uma tentativa de roubar informa√ß√µes pessoais", "Um jogo online"], 
          correta: 2, 
          explicacao: "Phishing √© quando criminosos tentam enganar voc√™ para obter informa√ß√µes pessoais.", 
          category: "Golpes"
        },
        { 
          pergunta: "O que fazer se receber uma mensagem pedindo dados pessoais?", 
          opcoes: ["Responder imediatamente", "Ignorar e denunciar como spam", "Encaminhar para amigos", "Fornecer apenas alguns dados"], 
          correta: 1, 
          explicacao: "Nunca forne√ßa dados pessoais por mensagem. Denuncie como spam.", 
          category: "Privacidade"
        },
        { 
          pergunta: "Por que √© importante fazer logout de sites?", 
          opcoes: ["Para economizar energia", "Para proteger sua conta caso outra pessoa use o dispositivo", "Porque o site pede", "Para ganhar pontos"], 
          correta: 1, 
          explicacao: "Fazer logout protege sua conta caso outra pessoa use o mesmo dispositivo.", 
          category: "Navega√ß√£o"
        },
        { 
          pergunta: "O que s√£o atualiza√ß√µes de seguran√ßa?", 
          opcoes: ["Novos recursos para o dispositivo", "Corre√ß√µes para problemas de seguran√ßa", "Mudan√ßas no design", "Aplicativos novos"], 
          correta: 1, 
          explicacao: "Atualiza√ß√µes de seguran√ßa corrigem falhas que criminosos podem explorar.", 
          category: "Seguran√ßa"
        },
        { 
          pergunta: "O que fazer se suspeitar que sua conta foi invadida?", 
          opcoes: ["N√£o fazer nada", "Mudar a senha imediatamente", "Contar para amigos", "Criar outra conta igual"], 
          correta: 1, 
          explicacao: "Se suspeitar de invas√£o, mude sua senha imediatamente e verifique atividades suspeitas.", 
          category: "Seguran√ßa"
        },
        { 
          pergunta: "Por que n√£o devemos usar redes Wi-Fi p√∫blicas para transa√ß√µes banc√°rias?", 
          opcoes: ["Porque s√£o lentas", "Porque podem ser monitoradas por criminosos", "Porque os bancos n√£o permitem", "Porque consomem mais bateria"], 
          correta: 1, 
          explicacao: "Redes p√∫blicas podem ser inseguras e permitir que criminosos capturem seus dados.", 
          category: "Redes"
        },
        { 
          pergunta: "O que √© um v√≠rus de computador?", 
          opcoes: ["Um programa √∫til", "Um jogo divertido", "Um programa malicioso que pode danificar seu dispositivo", "Um tipo de arquivo"], 
          correta: 2, 
          explicacao: "V√≠rus s√£o programas maliciosos que podem danificar dispositivos ou roubar informa√ß√µes.", 
          category: "Seguran√ßa"
        },
        { 
          pergunta: "Qual √© a fun√ß√£o de um antiv√≠rus?", 
          opcoes: ["Acelerar o computador", "Proteger contra programas maliciosos", "Melhorar a conex√£o com a internet", "Organizar arquivos"], 
          correta: 1, 
          explicacao: "Antiv√≠rus protegem seu dispositivo detectando e removendo programas maliciosos.", 
          category: "Seguran√ßa"
        },
        { 
          pergunta: "Por que n√£o devemos postar fotos de documentos pessoais nas redes sociais?", 
          opcoes: ["Porque ocupam muito espa√ßo", "Porque podem ser usados para falsifica√ß√£o", "Porque os documentos ficam desatualizados", "Porque n√£o s√£o interessantes"], 
          correta: 1, 
          explicacao: "Documentos pessoais podem ser usados por criminosos para roubo de identidade.", 
          category: "Privacidade"
        },
        { 
          pergunta: "O que significa HTTPS em um endere√ßo web?", 
          opcoes: ["Que o site √© moderno", "Que a conex√£o √© segura e criptografada", "Que o site tem muitas imagens", "Que √© um site oficial"], 
          correta: 1, 
          explicacao: "HTTPS indica que a comunica√ß√£o com o site √© criptografada e mais segura.", 
          category: "Navega√ß√£o"
        }
      ],
      intermediate: [
        { 
          pergunta: "O que fazer se receber um e-mail pedindo para atualizar seus dados banc√°rios?", 
          opcoes: ["Clicar no link e atualizar", "Responder com seus dados", "Ignorar e reportar como phishing", "Encaminhar para amigos"], 
          correta: 2, 
          explicacao: "Bancos nunca pedem dados por e-mail. Isso √© phishing.", 
          category: "Golpes",
          situacional: true
        },
        { 
          pergunta: "Qual a melhor pr√°tica para senhas em diferentes sites?", 
          opcoes: ["Usar a mesma senha em tudo", "Usar senhas √∫nicas para cada site", "Anotar todas em um papel", "Usar combina√ß√µes simples"], 
          correta: 1, 
          explicacao: "Use senhas √∫nicas para cada site. Considere um gerenciador de senhas.", 
          category: "Senhas"
        },
        { 
          pergunta: "O que √© autentica√ß√£o de dois fatores (2FA)?", 
          opcoes: ["Usar duas senhas", "Confirmar login com c√≥digo por SMS/app", "Ter duas contas", "Usar senha e nome de usu√°rio"], 
          correta: 1, 
          explicacao: "2FA adiciona uma camada extra de seguran√ßa com um c√≥digo tempor√°rio.", 
          category: "Seguran√ßa"
        },
        { 
          pergunta: "Como identificar um e-mail de phishing?", 
          opcoes: [
            "Verificar o endere√ßo do remetente", 
            "Procurar erros gramaticais", 
            "N√£o clicar em links suspeitos", 
            "Todas as anteriores"
          ], 
          correta: 3, 
          explicacao: "Phishing pode ser identificado por remetentes estranhos, erros gramaticais e links suspeitos.", 
          category: "Golpes"
        },
        { 
          pergunta: "O que √© engenharia social?", 
          opcoes: [
            "Uma t√©cnica de constru√ß√£o", 
            "Manipula√ß√£o psicol√≥gica para obter informa√ß√µes", 
            "Um tipo de rede social", 
            "Um curso universit√°rio"
          ], 
          correta: 1, 
          explicacao: "Engenharia social √© quando criminosos manipulam pessoas para obter informa√ß√µes confidenciais.", 
          category: "Golpes"
        },
        { 
          pergunta: "Por que √© arriscado usar pen drives desconhecidos?", 
          opcoes: [
            "Podem conter v√≠rus", 
            "Podem quebrar facilmente", 
            "Podem ser lentos", 
            "Podem n√£o ser compat√≠veis"
          ], 
          correta: 0, 
          explicacao: "Pen drives desconhecidos podem conter malware que infecta seu dispositivo.", 
          category: "Seguran√ßa"
        },
        { 
          pergunta: "O que √© um ataque de for√ßa bruta?", 
          opcoes: [
            "Tentar muitas combina√ß√µes para adivinhar uma senha", 
            "Quebrar fisicamente um dispositivo", 
            "Ataque com v√≠rus muito potente", 
            "Hackear usando supercomputadores"
          ], 
          correta: 0, 
          explicacao: "Ataques de for√ßa bruta testam muitas combina√ß√µes at√© adivinhar a senha.", 
          category: "Seguran√ßa"
        },
        { 
          pergunta: "Qual a vantagem de usar um gerenciador de senhas?", 
          opcoes: [
            "Permite usar senhas complexas sem precisar lembrar", 
            "Torna todas as senhas iguais", 
            "Compartilha senhas automaticamente", 
            "Nenhuma vantagem"
          ], 
          correta: 0, 
          explicacao: "Gerenciadores permitem usar senhas √∫nicas e complexas para cada site, armazenando-as com seguran√ßa.", 
          category: "Senhas"
        },
        { 
          pergunta: "O que √© um token de seguran√ßa?", 
          opcoes: [
            "Um dispositivo f√≠sico que gera c√≥digos √∫nicos", 
            "Um tipo de senha longa", 
            "Um certificado digital", 
            "Um aplicativo de mensagens"
          ], 
          correta: 0, 
          explicacao: "Tokens geram c√≥digos √∫nicos tempor√°rios para autentica√ß√£o em dois fatores.", 
          category: "Seguran√ßa"
        },
        { 
          pergunta: "O que √© criptografia de dados?", 
          opcoes: [
            "Transformar informa√ß√µes em c√≥digo ileg√≠vel sem a chave", 
            "Comprimir arquivos para ocupar menos espa√ßo", 
            "Esconder arquivos em pastas secretas", 
            "Proteger arquivos com senha"
          ], 
          correta: 0, 
          explicacao: "Criptografia transforma dados em c√≥digo que s√≥ pode ser lido com a chave correta.", 
          category: "Privacidade"
        },
        { 
          pergunta: "Por que √© importante verificar permiss√µes de aplicativos?", 
          opcoes: [
            "Para saber quanto espa√ßo ocupam", 
            "Para evitar que acessem dados desnecess√°rios", 
            "Porque alguns apps n√£o funcionam sem todas as permiss√µes", 
            "Para ganhar recompensas"
          ], 
          correta: 1, 
          explicacao: "Apps podem coletar dados desnecess√°rios se tiverem permiss√µes excessivas.", 
          category: "Aplicativos"
        },
        { 
          pergunta: "O que √© um ataque DDoS?", 
          opcoes: [
            "Inundar um servidor com tr√°fego para derrub√°-lo", 
            "Roubar dados de um computador", 
            "Infectar dispositivos com v√≠rus", 
            "Enganar usu√°rios para obter senhas"
          ], 
          correta: 0, 
          explicacao: "Ataques DDoS sobrecarregam servidores com tr√°fego excessivo para tir√°-los do ar.", 
          category: "Seguran√ßa"
        },
        { 
          pergunta: "O que √© um certificado digital?", 
          opcoes: [
            "Um documento que prova identidade online", 
            "Um diploma de curso de inform√°tica", 
            "Um tipo de senha complexa", 
            "Um pr√™mio por usar a internet com seguran√ßa"
          ], 
          correta: 0, 
          explicacao: "Certificados digitais autenticam a identidade de pessoas ou sites na internet.", 
          category: "Seguran√ßa"
        },
        { 
          pergunta: "Por que √© importante fazer backup dos dados?", 
          opcoes: [
            "Para evitar perda em caso de ataque ou falha", 
            "Para liberar espa√ßo no dispositivo", 
            "Porque √© obrigat√≥rio", 
            "Para poder formatar o computador"
          ], 
          correta: 0, 
          explicacao: "Backups protegem seus dados contra perda por ataques, falhas ou acidentes.", 
          category: "Seguran√ßa"
        },
        { 
          pergunta: "O que √© um keylogger?", 
          opcoes: [
            "Dispositivo para digitar mais r√°pido", 
            "Programa que registra tudo o que √© digitado", 
            "Aplicativo para organizar senhas", 
            "Tipo de teclado especial"
          ], 
          correta: 1, 
          explicacao: "Keyloggers s√£o programas maliciosos que gravam tudo o que voc√™ digita, incluindo senhas.", 
          category: "Seguran√ßa"
        }
      ],
      advanced: [
        { 
          pergunta: "Como identificar uma rede Wi-Fi falsa em locais p√∫blicos?", 
          opcoes: [
            "Pelo nome parecido com o estabelecimento", 
            "Por n√£o pedir senha", 
            "Por ter sinal muito forte", 
            "Todas as anteriores"
          ], 
          correta: 3, 
          explicacao: "Redes falsas podem imitar nomes, oferecer acesso f√°cil e sinal forte para atrair v√≠timas.", 
          category: "Redes",
          situacional: true
        },
        { 
          pergunta: "O que fazer se suspeitar que seu dispositivo tem malware?", 
          opcoes: [
            "Formatar imediatamente", 
            "Rodar antiv√≠rus e mudar senhas importantes", 
            "Ignorar e continuar usando", 
            "Vender o dispositivo"
          ], 
          correta: 1, 
          explicacao: "Execute uma verifica√ß√£o completa, mude senhas e monitore contas.", 
          category: "Seguran√ßa",
          situacional: true
        },
        { 
          pergunta: "Qual a vantagem de usar uma VPN em redes p√∫blicas?", 
          opcoes: [
            "Deixa a internet mais r√°pida", 
            "Criptografa toda sua comunica√ß√£o", 
            "Permite acessar sites bloqueados", 
            "Todas as anteriores"
          ], 
          correta: 1, 
          explicacao: "VPNs criam um t√∫nel criptografado, protegendo seus dados em redes n√£o confi√°veis.", 
          category: "Privacidade"
        },
        { 
          pergunta: "O que √© um ataque Man-in-the-Middle?", 
          opcoes: [
            "Quando um criminoso intercepta comunica√ß√£o entre duas partes", 
            "Ataque que sobrecarrega um servidor", 
            "V√≠rus que se espalha por e-mail", 
            "Falsifica√ß√£o de identidade online"
          ], 
          correta: 0, 
          explicacao: "Neste ataque, o criminoso intercepta e possivelmente altera a comunica√ß√£o entre v√≠timas.", 
          category: "Seguran√ßa"
        },
        { 
          pergunta: "O que √© engenharia reversa de malware?", 
          opcoes: [
            "Criar novos v√≠rus", 
            "Analisar malware para entender seu funcionamento", 
            "Desinstalar programas maliciosos", 
            "Reverter danos causados por v√≠rus"
          ], 
          correta: 1, 
          explicacao: "Engenharia reversa de malware ajuda a entender como ele funciona para desenvolver prote√ß√µes.", 
          category: "Seguran√ßa"
        },
        { 
          pergunta: "O que √© um ataque de dia zero?", 
          opcoes: [
            "Ataque que ocorre √† meia-noite", 
            "Explora√ß√£o de vulnerabilidade desconhecida antes do patch", 
            "Primeiro ataque de um novo hacker", 
            "Ataque que dura 24 horas"
          ], 
          correta: 1, 
          explicacao: "Ataques de dia zero exploram falhas desconhecidas pelos desenvolvedores, antes que possam ser corrigidas.", 
          category: "Seguran√ßa"
        },
        { 
          pergunta: "O que √© um honeypot em seguran√ßa digital?", 
          opcoes: [
            "Armadilha para atrair e estudar hackers", 
            "Tipo de v√≠rus muito atraente", 
            "Rede social falsa", 
            "Programa que simula vulnerabilidades"
          ], 
          correta: 0, 
          explicacao: "Honeypots s√£o sistemas projetados para atrair e monitorar atividades de invasores.", 
          category: "Seguran√ßa"
        },
        { 
          pergunta: "O que √© steganografia?", 
          opcoes: [
            "Esconder informa√ß√µes dentro de outros arquivos", 
            "Tipo de criptografia avan√ßada", 
            "T√©cnica para apagar dados permanentemente", 
            "M√©todo de backup em nuvem"
          ], 
          correta: 0, 
          explicacao: "Steganografia esconde informa√ß√µes dentro de imagens, √°udios ou outros arquivos sem alterar sua apar√™ncia.", 
          category: "Privacidade"
        },
        { 
          pergunta: "O que √© um falso positivo em antiv√≠rus?", 
          opcoes: [
            "Quando o antiv√≠rus n√£o detecta uma amea√ßa", 
            "Quando detecta um arquivo seguro como malicioso", 
            "Quando o v√≠rus engana o antiv√≠rus", 
            "Quando o antiv√≠rus funciona corretamente"
          ], 
          correta: 1, 
          explicacao: "Falso positivo ocorre quando o antiv√≠rus identifica erroneamente um arquivo seguro como amea√ßa.", 
          category: "Seguran√ßa"
        },
        { 
          pergunta: "O que √© sandboxing em seguran√ßa digital?", 
          opcoes: [
            "Executar programas em ambiente isolado para an√°lise", 
            "Tipo de armazenamento em nuvem", 
            "M√©todo para apagar dados", 
            "T√©cnica de criptografia"
          ], 
          correta: 0, 
          explicacao: "Sandboxing executa programas em ambiente controlado e isolado para analisar comportamento suspeito.", 
          category: "Seguran√ßa"
        },
        { 
          pergunta: "O que √© um ataque de nega√ß√£o de servi√ßo distribu√≠do (DDoS)?", 
          opcoes: [
            "Ataque que usa muitos dispositivos para sobrecarregar um alvo", 
            "Ataque que rouba dados distribu√≠dos", 
            "V√≠rus que se espalha rapidamente", 
            "Ataque que nega acesso a servi√ßos espec√≠ficos"
          ], 
          correta: 0, 
          explicacao: "DDoS usa uma rede de dispositivos comprometidos (botnet) para sobrecarregar um alvo com tr√°fego.", 
          category: "Seguran√ßa"
        },
        { 
          pergunta: "O que √© deep web?", 
          opcoes: [
            "Parte da internet n√£o indexada por motores de busca", 
            "Internet ilegal", 
            "Rede de computadores secretos", 
            "Tecnologia de navega√ß√£o an√¥nima"
          ], 
          correta: 0, 
          explicacao: "Deep web inclui todo conte√∫do n√£o indexado por buscadores, como bancos de dados privados.", 
          category: "Navega√ß√£o"
        },
        { 
          pergunta: "O que √© dark web?", 
          opcoes: [
            "Parte da deep web que requer softwares espec√≠ficos para acesso", 
            "Internet noturna", 
            "Rede de computadores sem luz", 
            "Tipo de v√≠rus"
          ], 
          correta: 0, 
          explicacao: "Dark web √© pequena parte da deep web que requer ferramentas como Tor para acesso an√¥nimo.", 
          category: "Navega√ß√£o"
        },
        { 
          pergunta: "O que √© criptografia de ponta a ponta?", 
          opcoes: [
            "Criptografia que s√≥ pode ser decifrada pelos comunicantes", 
            "Criptografia que usa pontas de chaves", 
            "Tipo de criptografia mais forte", 
            "Criptografia que dura pouco tempo"
          ], 
          correta: 0, 
          explicacao: "Na criptografia ponta a ponta, s√≥ os participantes da comunica√ß√£o podem ler as mensagens.", 
          category: "Privacidade"
        },
        { 
          pergunta: "O que √© um ataque de for√ßa bruta offline?", 
          opcoes: [
            "Tentar senhas em um banco de dados roubado", 
            "Quebrar fisicamente um dispositivo", 
            "Ataque sem conex√£o √† internet", 
            "Tentativa de senha em um site"
          ], 
          correta: 0, 
          explicacao: "Ataques offline testam combina√ß√µes em um banco de dados de senhas roubado, sem restri√ß√µes de tentativas.", 
          category: "Seguran√ßa"
        }
      ]
    };

    // Dicas de seguran√ßa
    const tips = [
      "Nunca use a mesma senha em m√∫ltiplos sites! Se um site for invadido, todas suas contas estar√£o em risco.",
      "Ative a autentica√ß√£o em dois fatores sempre que poss√≠vel. Isso adiciona uma camada extra de seguran√ßa.",
      "Cuidado com redes Wi-Fi p√∫blicas. Evite acessar contas importantes em redes n√£o confi√°veis.",
      "Mantenha seus dispositivos e aplicativos sempre atualizados. Atualiza√ß√µes frequentemente corrigem falhas de seguran√ßa.",
      "Fa√ßa backup regular dos seus dados importantes. Assim voc√™ n√£o perde tudo se for v√≠tima de ransomware."
    ];

    // Vari√°veis do jogo
    let currentQuestion = 0;
    let score = 0;
    let timer;
    let timeLeft = 10;
    let answered = false;
    let lives = 3;
    let currentQuestions = [];
    let currentStreak = 0;
    let currentDifficulty = 'beginner';

    // Elementos do DOM
    const questionEl = document.getElementById('question-text');
    const optionsEl = document.getElementById('options-container');
    const feedbackEl = document.getElementById('feedback');
    const explanationEl = document.getElementById('explanation');
    const nextBtn = document.getElementById('next-btn');
    const scoreEl = document.getElementById('score');
    const timerEl = document.getElementById('timer');
    const questionCountEl = document.getElementById('question-count');
    const progressBarEl = document.getElementById('progress-bar');
    const celebrateEl = document.getElementById('celebrate');
    const livesContainer = document.getElementById('lives-container');
    const categoryTag = document.getElementById('category-tag');
    const tipContainer = document.getElementById('tip-container');
    const tipContent = document.getElementById('tip-content');

    // Inicializa√ß√£o
    loadProgress();
    updateProfile();
    updateAchievementsDisplay();

    function startGame() {
      // Seleciona perguntas baseado no n√≠vel desbloqueado
      currentDifficulty = getCurrentDifficulty();
      currentQuestions = selectQuestions(currentDifficulty);
      
      // Reinicia vari√°veis da sess√£o
      currentQuestion = 0;
      score = 0;
      lives = 3;
      currentStreak = 0;
      
      // Atualiza UI
      document.getElementById('start-screen').style.display = 'none';
      document.getElementById('quiz-screen').style.display = 'block';
      updateLivesDisplay();
      showQuestion();
    }

    function getCurrentDifficulty() {
      if (player.unlockedLevels.includes('advanced') && player.level >= 10) {
        return 'advanced';
      } else if (player.unlockedLevels.includes('intermediate') && player.level >= 5) {
        return 'intermediate';
      }
      return 'beginner';
    }

    function selectQuestions(difficulty) {
      // Seleciona 10 perguntas aleat√≥rias do n√≠vel atual
      const questions = [...quiz[difficulty]];
      return shuffleArray(questions).slice(0, 10);
    }

    function showQuestion() {
      answered = false;
      clearInterval(timer);
      
      const q = currentQuestions[currentQuestion];
      timeLeft = q.situacional ? 20 : 10;
      startTimer();
      
      questionEl.textContent = q.pergunta;
      questionCountEl.textContent = `${currentQuestion + 1}/${currentQuestions.length}`;
      progressBarEl.style.width = `${((currentQuestion) / currentQuestions.length) * 100}%`;
      
      // Mostra categoria
      categoryTag.textContent = q.category;
      categoryTag.style.display = 'inline-block';
      
      optionsEl.innerHTML = '';
      feedbackEl.textContent = '';
      feedbackEl.className = 'feedback';
      explanationEl.style.display = 'none';
      tipContainer.style.display = 'none';
      nextBtn.style.display = 'none';

      q.opcoes.forEach((opcao, index) => {
        const btn = document.createElement('button');
        btn.textContent = opcao;
        btn.className = 'btn-option';
        btn.onclick = () => checkAnswer(index);
        optionsEl.appendChild(btn);
      });
    }

    function checkAnswer(index) {
      if (answered) return;
      answered = true;
      clearInterval(timer);
      
      const q = currentQuestions[currentQuestion];
      const options = optionsEl.querySelectorAll('.btn-option');
      
      if (index === q.correta) {
        // Resposta correta
        options[index].classList.add('correct');
        feedbackEl.textContent = getRandomCorrectFeedback();
        feedbackEl.className = "feedback correct";
        score++;
        currentStreak++;
        player.correctAnswers++;
        
        // Adiciona XP baseado na dificuldade
        const xpGain = currentDifficulty === 'beginner' ? 10 : 
                      currentDifficulty === 'intermediate' ? 20 : 30;
        addXP(xpGain);
        
        // Atualiza progresso do n√≠vel
        updateDifficultyProgress(1);
        
        // Verifica conquistas
        checkAchievements(currentStreak);
      } else {
        // Resposta incorreta
        options[index].classList.add('incorrect');
        options[q.correta].classList.add('correct');
        feedbackEl.textContent = getRandomIncorrectFeedback();
        feedbackEl.className = "feedback incorrect";
        currentStreak = 0;
        loseLife();
      }
      
      explanationEl.textContent = q.explicacao;
      explanationEl.style.display = 'block';
      showRandomTip();
      scoreEl.textContent = score;
      
      if (lives > 0) {
        nextBtn.style.display = 'inline-block';
      } else {
        setTimeout(() => {
          endGame();
        }, 2000);
      }
    }

    function updateDifficultyProgress(points) {
      if (currentDifficulty === 'beginner') {
        player.beginnerProgress = Math.min(100, player.beginnerProgress + (100 / currentQuestions.length));
      } else if (currentDifficulty === 'intermediate') {
        player.intermediateProgress = Math.min(100, player.intermediateProgress + (100 / currentQuestions.length));
      } else {
        player.advancedProgress = Math.min(100, player.advancedProgress + (100 / currentQuestions.length));
      }
      updateProfile();
    }

    function nextQuestion() {
      currentQuestion++;
      if (currentQuestion < currentQuestions.length) {
        showQuestion();
      } else {
        endGame();
      }
    }

    function endGame() {
      // Verifica conquistas finais
      checkAchievements(currentStreak, score, currentQuestions.length);
      
      // Mostra resultado
      const resultMessage = `üéâ Fim do jogo!\n\nVoc√™ acertou ${score} de ${currentQuestions.length} perguntas!\n\nGanhou ${score * (currentDifficulty === 'beginner' ? 10 : currentDifficulty === 'intermediate' ? 20 : 30)} XP`;
      
      setTimeout(() => {
        alert(resultMessage);
        showStartScreen();
      }, 1000);
    }

    function showStartScreen() {
      document.getElementById('quiz-screen').style.display = 'none';
      document.getElementById('profile-screen').style.display = 'none';
      document.getElementById('achievements-screen').style.display = 'none';
      document.getElementById('start-screen').style.display = 'block';
    }

    function showProfile() {
      document.getElementById('start-screen').style.display = 'none';
      document.getElementById('quiz-screen').style.display = 'none';
      document.getElementById('achievements-screen').style.display = 'none';
      document.getElementById('profile-screen').style.display = 'block';
    }

    function showAchievements() {
      document.getElementById('start-screen').style.display = 'none';
      document.getElementById('quiz-screen').style.display = 'none';
      document.getElementById('profile-screen').style.display = 'none';
      document.getElementById('achievements-screen').style.display = 'block';
    }

    // Fun√ß√µes auxiliares (timer, feedback, etc.) mantidas da vers√£o anterior
    function startTimer() {
      updateTimerDisplay();
      timer = setInterval(() => {
        timeLeft--;
        updateTimerDisplay();
        if (timeLeft <= 0 && !answered) {
          clearInterval(timer);
          timeUp();
        }
      }, 1000);
    }

    function updateTimerDisplay() {
      timerEl.textContent = `${timeLeft}s`;
      timerEl.className = 'stat-value timer';
      
      if (timeLeft <= 3) {
        timerEl.classList.add('danger');
      } else if (timeLeft <= 5) {
        timerEl.classList.add('warning');
      }
    }

    function timeUp() {
      loseLife();
      feedbackEl.textContent = "‚è∞ Tempo esgotado!";
      feedbackEl.className = "feedback incorrect";
      
      const q = currentQuestions[currentQuestion];
      explanationEl.textContent = q.explicacao;
      explanationEl.style.display = 'block';
      showRandomTip();
      
      const options = optionsEl.querySelectorAll('.btn-option');
      options[q.correta].classList.add('correct');
      
      nextBtn.style.display = lives > 0 ? 'inline-block' : 'none';
      answered = true;
      currentStreak = 0;
    }

    function loseLife() {
      lives--;
      updateLivesDisplay();
      
      if (lives <= 0) {
        setTimeout(() => {
          endGame();
        }, 1500);
      }
    }

    function updateLivesDisplay() {
      const lifeIcons = livesContainer.querySelectorAll('.life');
      lifeIcons.forEach((icon, index) => {
        if (index >= lives) {
          icon.classList.add('lost');
        } else {
          icon.classList.remove('lost');
        }
      });
    }

    function showRandomTip() {
      if (Math.random() > 0.5) {
        tipContent.textContent = tips[Math.floor(Math.random() * tips.length)];
        tipContainer.style.display = 'block';
      }
    }

    function getRandomCorrectFeedback() {
      const feedbacks = [
        "‚úÖ Excelente! Voc√™ acertou!",
        "‚úÖ Parab√©ns! Resposta correta!",
        "‚úÖ Isso a√≠! Voc√™ sabe mesmo!",
        "‚úÖ Muito bem! Continue assim!"
      ];
      return feedbacks[Math.floor(Math.random() * feedbacks.length)];
    }

    function getRandomIncorrectFeedback() {
      const feedbacks = [
        "‚ùå Ops! N√£o foi dessa vez...",
        "‚ùå Resposta incorreta!",
        "‚ùå Quase! Mas n√£o √© essa...",
        "‚ùå Aten√ß√£o! N√£o √© essa op√ß√£o."
      ];
      return feedbacks[Math.floor(Math.random() * feedbacks.length)];
    }

    function showCelebration(message = "üéâ Parab√©ns!") {
      celebrateEl.style.opacity = '1';
      celebrateEl.textContent = message;
      
      for (let i = 0; i < 50; i++) {
        createConfetti();
      }
      
      setTimeout(() => {
        celebrateEl.style.opacity = '0';
      }, 2000);
    }

    function createConfetti() {
      const confetti = document.createElement('div');
      confetti.className = 'confetti';
      celebrateEl.appendChild(confetti);
      
      const colors = ['#4361ee', '#3f37c9', '#4cc9f0', '#4895ef', '#560bad'];
      const color = colors[Math.floor(Math.random() * colors.length)];
      
      confetti.style.backgroundColor = color;
      confetti.style.left = Math.random() * 100 + 'vw';
      
      const animationDuration = Math.random() * 3 + 2;
      confetti.style.animation = `fall ${animationDuration}s linear forwards`;
      
      const style = document.createElement('style');
      style.innerHTML = `
        @keyframes fall {
          to {
            top: 100vh;
            transform: rotate(360deg);
            opacity: 0;
          }
        }
      `;
      document.head.appendChild(style);
      
      setTimeout(() => {
        confetti.remove();
        style.remove();
      }, animationDuration * 1000);
    }

    function showMessage(message) {
      alert(message);
    }

    function shuffleArray(array) {
      const newArray = [...array];
      for (let i = newArray.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
      }
      return newArray;
    }

    // Inicializa mostrando a tela inicial
    window.onload = function() {
      showStartScreen();
    };
  </script>
</body>
</html>
